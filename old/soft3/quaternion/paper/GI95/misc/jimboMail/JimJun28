From jimbo@blaze.cs.jhu.edu Fri Jun 28 16:17 CDT 1996
Return-Path: <jimbo@blaze.cs.jhu.edu>
Received: from cerulean.cis.uab.edu by cis.uab.edu (5.x/SMI-SVR4)
	id AA16084; Fri, 28 Jun 1996 16:17:14 -0500
Received: from cis.uab.edu by cerulean.cis.uab.edu via SMTP (940816.SGI.8.6.9/940406.SGI)
	for <jj@cerulean> id QAA13610; Fri, 28 Jun 1996 16:12:13 -0700
Received: from blaze.cs.jhu.edu by cis.uab.edu (5.x/SMI-SVR4)
	id AA16081; Fri, 28 Jun 1996 16:17:04 -0500
Received: from mail-client
           by blaze.cs.jhu.edu with SMTP; Fri, 28 Jun 1996 21:16:49 GMT
Received: by mail-client (4.1) id AA11847; Fri, 28 Jun 96 17:16:49 EDT
Message-Id: <9606282117.AA16081@cis.uab.edu>
From: jimbo@blaze.cs.jhu.edu (Jim Williams)
Sender: jimbo@blaze.cs.jhu.edu
Subject: Result On Angular Velocity
To: jj@cerulean.cis.uab.edu (John K. Johnstone)
Date: Fri, 28 Jun 1996 17:16:48 -0400 (EDT)
Cc: jimbo@blaze.cs.jhu.edu (Jimbo)
In-Reply-To: <9606281119.ZM12743@cerulean.cis.uab.edu> from "John K. Johnstone" at Jun 28, 96 11:19:02 am
X-Mailer: ELM [version 2.4 PL13]
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Content-Length: 4255
Status: OR

> 
> Angular velocity is a good candidate.
> I seem to recall that this is one of the few criteria emphasized
> in the ME literature, e.g., in spacecraft control, when talking about
> orientation control.  I'll look this up again.
> And spreading the angular velocity over the entire path sounds optimal.
> Note that this is equivalent to zero acceleration, which relates
> to the optimization in Barr et. al.'s animation paper
> (they minimize tangential acceleration).
> 
> I'll have to think more about whether I believe that the derivative
> of the rotation matrix is exactly angular velocity, but it sounds right.
> 
> In other words, full speed ahead.
> 
> > The way I have been trying to go about this mathematically is to look at the
> > position function in the quaternion world QipQ and show that if Q' is a unit
> > quaternion then d/dt(QipQ) is constant.
> 
> This sort of argument is the key.
> Let me know any breakthroughs.
> 
> I have been working on the first challenge (the coverage of quaternion curves
> by our map) and the writeup.
> 
> John
> 
> 



I believe I have worked out the details of the proof that shows how 
arc length on the unit quaternion sphere relates to instantaneous velocity
and tangential acceleration.  I proved two lemmas that are essential to this 
proof.  Here is the plan:


Suppose I have a curve on the quaternion sphere q(t).  Let us look 
at the motion of a point p as this transformation is applied:

(1) 	Quaternion rotation:

	the position function for p is:

	pos(p,t) 	= q(t) [0,p] qinverse(t)

(2)	Instantaneous Velocity:

	the instantaneous velocity of a point at time t given
	it's position function is:
	
	vel(p,t)	= d/dt(pos(p,t))

LEMMA 1: Quaternion multiplications differentiate according to product rule, i.e
	 d/dt(q1q2) = d/dt(q1)q2 + q1(d/dt(q2))

PROOF:	q1q2 	= [s1s2 - <v1,v2>, s1v2 + s2v1 + v1Xv2]	
	
	d/dt(q1q2) 	= [s1's2+s1s2' - <v1',v2> - <v1,v2'>,
				s1'v2 + s1v2' + s2'v1 + s2v1' + v1'Xv2 + v1Xv2']

	d/dt(q1)q2	= [s1's2 - <v1',v2, s1'v2 + s2v1' + v1'Xv2]

	.... We can see by symmetry and examination of the above expressions that...
	
	d/dt(q1q2) = d/dt(q1)q2 + q1(d/dt(q2))	QED


(3) 	Now we can expand the expression for instantaneous velocity:

	vel(p,t) = q' p qinverse + q p qinvervse'


LEMMA 2: |q1q2| = |q1||q2| -- quaternion length separability

PROOF:	q1q2 		= [s1s2 - <v1,v2>, s1v2 + s2v1 + v1Xv2]	
	|q1q2|^2 	= [s1^2s2^2 + <v1,v2>^2 - 2s1s2<v1,v2> +
			<s1v2,s1v2>	+ <s1v2,s2v1>	+ <s1v2,v1Xv2> +
			<s2v1,s1v2>	+ <s2v1,s2v1>	+ <s2v1,v1Xv2> +
			<v1Xv2,s1v2>	+ <v1Xv2,s2v1>	+ <v1Xv2,v1Xv2> ]

grouing like terms eliminates some factors, we get:

	|q1q2|^2 	= [s1^2s2^2 + <v1,v2>^2 +
			<s1v2,s1v2>			+ <s1v2,v1Xv2> +
					 <s2v1,s2v1>	+ <s2v1,v1Xv2> +
			<v1Xv2,s1v2>	+ <v1Xv2,s2v1>	+ <v1Xv2,v1Xv2> ]
	

now we know that v1Xv2 is orthogonal to both v1 and v2, so we can eliminate more terms:

	|q1q2|^2 	= [s1^2s2^2 + <v1,v2>^2 +
			<s1v2,s1v2>			+ 
					 <s2v1,s2v1>	+
							 <v1Xv2,v1Xv2> ]


now |q1|^2 = |(s1,v1)|^2 = s1^2 + |v1|^2, let k1 = |v1| and k2 = |v2| we can rewrite the expression as:
	
	|q1q2|^2 	= s1^2s2^2 + <v1,v2>^2 + s1^2k2^2 + s2^2k1^2 + <v1Xv2,v1Xv2>

using the identities <a,b> = |a||b|cos(TH) and |aXb| = |a||b|sin(TH) we get:

	|q1q2|^2	= s1^2s2^2 + k1^2k2^2cos(TH)^2 + s1^2k2^2 + s2^2k1^2 + k1^2k2^2sin(TH)^2

using the trig identity cos^2 + sin^2 = 1:

	|q1q2|^2	= s1^2s2^2 + k1^2k2^2 + s1^2k2^2 + s2^2k1^2

now recall that |q1|^2 = (s1^2+k1^2)

	Therefore |q1q2| = (s1^2+k1^2)(s2^2+k2^2) = |q1||q2| QED

(4) using LEMMA 2 we can do the following:

	recall:
	
	vel(p,t) = q' p qinverse + q p qinvervse'

	The magnitude of this velocity vector can now be determined

	vel(p,t) = |q'| |p| |qinverse| + |q| |p| |qinvervse'|

if q(t) is an arc-length parameterized curve, then |q(t)| = |qinverse(t)| = |q'(t)| = |qinverse'(t)| = 1 so:

	vel(p,t) =  2|p|  -- which is a constant


Therefore, an arc-length parameterized orientation function rotates an object with
0 tangential acceleration.  Since the expression for arc length of our curve is 
rational, we can place keyframes at calculated intervals of equal arc length, yielding
a true 0 tangential acceleration rotation sequence.


I think this is an excellent physical motivation.


Jim

